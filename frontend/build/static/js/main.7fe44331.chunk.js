(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{176:function(e,t,a){},177:function(e,t,a){},203:function(e,t){},210:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(15),s=a.n(i),o=(a(176),a(17)),l=(a(177),a(7)),u=a(9),j=a.n(u),b=a(14),d=a(20),p=a.n(d);p.a.defaults.baseURL="/api",p.a.defaults.headers.common["Content-Type"]="application/json",p.a.defaults.headers.common.Accept="application/json",p.a.defaults.headers.common.token=window.localStorage.getItem("jwt");var h={Auth:{authorization:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/auth");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/auth/login",t);case 2:return(a=e.sent).data.success&&(p.a.defaults.headers.common.token=a.data.data,window.localStorage.setItem("jwt",a.data.data)),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},User:{createUser:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/user",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserInfo:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/user?username=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Event:{createEvent:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/event",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFriendEvent:function(){var e=Object(b.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/event/friend?username=".concat(t,"&friendName=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateEvent:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.put("/event",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllEvent:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/event/all?username=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Group:{createGroup:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/group",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getGroupEvent:function(){var e=Object(b.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/group?username=".concat(t,"&groupId=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),addUser:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/group/addUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeUser:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/group/removeUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},O=Object(r.createContext)(null),x=function(e){var t=e.children,a=Object(r.useState)({name:null,username:null,password:null,isLogin:!1}),c=Object(l.a)(a,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){console.log("current",i)}),[i]),Object(n.jsx)(O.Provider,{value:{currentUser:i,setCurrentUser:s},children:t})},m=a(59),f=a(277),g=a(5),v=a(278),y=a(70),k=a(276),C=a(38),N=a(157),w=a(4),S=a(253),E=a(288),I=a(256),W=a(212),B=a(275),P=a(257),D=a(56),M=a.n(D),U=a(285),z=a(152),A=a.n(z),T=a(76),F=a.n(T),L=a(160),R=a(284),q=a(254),G=a(283),H=a(255),Y=a(46),_=a.n(Y),J=a(265),V=a(282),K=a(258),Q=a(264),X=a(261),Z=a(260),$=a(263),ee=a(252),te=a(287),ae=["#E38627","#C13C37","#6A2135","#00AA55","#009FD4","#B381B3","#939393","#E3BC00","#D47500","#DC2A2A","#cf3c88","#d70c7e","#b7b82d","#FFB900","#D83B01","#B50E0E","#E81123","#B4009E","#DB4437","#E91E63","#9C27B0","#673AB7","#3F51B5"],ne={PERSONAL:{label:"\u500b\u4eba",color:"primary"},GROUP:{label:"\u7fa4\u7d44",color:"secondary"}},re=a(139),ce=ae;var ie=function(e){var t=e.user,a=e.onClick,c=Object(r.useState)(ce[0]),i=Object(l.a)(c,2),s=i[0],o=i[1],u={display:"flex",cursor:a?"pointer":""};return Object(r.useEffect)((function(){o(function(e){var t=re(e),a=Math.round(t()*ce.length);return console.log("rand",a),ce[a]}(t))}),[t]),Object(n.jsxs)(G.a,{style:u,onClick:function(){a&&a()},children:[Object(n.jsx)(te.a,{style:{background:s},children:t[0]})," \xa0\xa0",Object(n.jsx)(y.a,{children:t})]})},se=[{key:0,label:"\u597d\u53cb",collection:"person"},{key:1,label:"\u7fa4\u7d44",collection:"group"}],oe=[{type:"\u6b20\u6211",value:!1},{type:"\u6211\u6b20",value:!0}];var le=Object(g.a)((function(e){return{paper:{maxWidth:936,margin:"auto"},blockPaper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},blockSec1:{margin:e.spacing(1)},blockSec2:{margin:e.spacing(2,1)},typography:{width:"33.3%",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"rgba(0, 0, 0, 0.54)",marginTop:e.spacing(1),marginBottom:e.spacing(1)},divider:{backgroundColor:"#e4e4e4",height:"2px"},listItem:{margin:"3px",display:"flex",justifyContent:"space-between"},box:{margin:"3px"},red:{color:"red"},green:{color:"green"}}}))((function(e){var t=e.classes,a=Object(r.useState)(0),c=Object(l.a)(a,2),i=c[0],s=c[1],u=Object(r.useState)(0),d=Object(l.a)(u,2),p=d[0],x=d[1],m=Object(r.useState)(0),f=Object(l.a)(m,2),g=f[0],v=f[1],k=Object(r.useState)(0),C=Object(l.a)(k,2),N=C[0],w=C[1],E=Object(r.useState)(se[0]),B=Object(l.a)(E,2),D=B[0],M=B[1],U=Object(r.useState)(!1),z=Object(l.a)(U,2),A=z[0],T=z[1],F=Object(r.useState)(""),Y=Object(l.a)(F,2),te=Y[0],ae=Y[1],ne=Object(r.useState)(!1),re=Object(l.a)(ne,2),ce=re[0],le=re[1],ue=Object(r.useState)(""),je=Object(l.a)(ue,2),be=je[0],de=je[1],pe=Object(r.useState)(""),he=Object(l.a)(pe,2),Oe=he[0],xe=he[1],me=Object(r.useState)(!1),fe=Object(l.a)(me,2),ge=fe[0],ve=fe[1],ye=Object(r.useState)(""),ke=Object(l.a)(ye,2),Ce=ke[0],Ne=ke[1],we=Object(r.useState)(""),Se=Object(l.a)(we,2),Ee=Se[0],Ie=Se[1],We=Object(r.useState)([]),Be=Object(l.a)(We,2),Pe=Be[0],De=Be[1],Me=Object(r.useState)([]),Ue=Object(l.a)(Me,2),ze=Ue[0],Ae=Ue[1],Te=Object(o.g)(),Fe=Object(r.useContext)(O).currentUser;Object(r.useEffect)((function(){Fe.isLogin||Te.replace("/login")}),[Te]),Object(r.useEffect)((function(){!function(){var e=0,t=0;if(0===N){if(0===Pe.length)return;Pe.forEach((function(a){a.balance>=0?e+=a.balance:t+=a.balance})),s(e),x(t),v(e+t)}else if(1===N){if(0===ze.length)return;ze.forEach((function(a){a.balance>=0?e+=a.balance:t+=a.balance})),s(e),x(t),v(e+t)}}()}),[Pe,ze,N]);var Le=function(){T(!1)},Re=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={creditor:ce?te:Fe.username,debtor:ce?Fe.username:te,amount:Number(be),description:Oe,type:"PERSONAL"},e.prev=1,e.next=4,h.Event.createEvent(t);case 4:(a=e.sent).data.success?(T(!1),ae(""),de(""),xe(""),He()):alert(a.data.error),e.next=15;break;case 8:e.prev=8,e.t0=e.catch(1),T(!1),ae(""),de(""),xe(""),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),qe=function(){ve(!1)},Ge=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ee.split(" "),a={groupName:Ce,usernames:t},e.prev=2,e.next=5,h.Group.createGroup(a);case 5:(n=e.sent).data.success?(ve(!1),Ne(""),Ie(""),He()):alert(n.data.error),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),ve(!1),Ne(""),Ie(""),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fe.isLogin){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.User.getUserInfo(Fe.username);case 5:(t=e.sent).data.success?(De(t.data.data.friends),Ae(t.data.data.groups)):alert(t.data.error),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){He()}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(ee.a,{container:!0,spacing:3,className:t.paper,children:[Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.blockPaper,children:[Object(n.jsx)("div",{className:t.blockSec1,children:Object(n.jsx)(y.a,{variant:"subtitle1",children:"\u5f85\u56de\u6536"})}),Object(n.jsx)(S.a,{className:t.divider,variant:"middle"}),Object(n.jsx)("div",{className:t.blockSec2,children:Object(n.jsx)(y.a,{variant:"h5",children:i})})]})}),Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.blockPaper,children:[Object(n.jsx)("div",{className:t.blockSec1,children:Object(n.jsx)(y.a,{variant:"subtitle1",children:"\u5f85\u652f\u51fa"})}),Object(n.jsx)(S.a,{className:t.divider,variant:"middle"}),Object(n.jsx)("div",{className:t.blockSec2,children:Object(n.jsx)(y.a,{variant:"h5",children:p})})]})}),Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.blockPaper,children:[Object(n.jsx)("div",{className:t.blockSec1,children:Object(n.jsx)(y.a,{variant:"subtitle1",children:"\u7e3d\u7d50"})}),Object(n.jsx)(S.a,{className:t.divider,variant:"middle"}),Object(n.jsx)("div",{className:t.blockSec2,children:Object(n.jsx)(y.a,{variant:"h5",children:g})})]})})]}),Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.paper,color:"primary",children:[Object(n.jsx)(R.a,{className:t.tabs,value:N,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){w(t),M(se[t])},"aria-label":"disabled tabs example",children:se.map((function(e){return Object(n.jsx)(q.a,{className:t.tabs,value:e.key,label:e.label},e.key)}))}),Object(n.jsx)(S.a,{className:t.divider}),Object(n.jsx)(G.a,{mx:2,mt:1,align:"right",children:"person"===D.collection?Object(n.jsx)(H.a,{onClick:function(){return T(!0)},children:Object(n.jsx)(_.a,{})}):Object(n.jsx)(H.a,{onClick:function(){return ve(!0)},children:Object(n.jsx)(_.a,{})})}),Object(n.jsx)(I.a,{children:"person"===D.collection?Pe.map((function(e){return Object(n.jsxs)(W.a,{button:!0,onClick:function(){return function(e){Te.push("/friend/".concat(e))}(e.username)},className:t.listItem,children:[Object(n.jsx)(ie,{user:e.username}),Object(n.jsx)(G.a,{display:"inline",mr:3,children:e.balance>=0?Object(n.jsx)(P.a,{className:t.green,children:"+".concat(e.balance)}):Object(n.jsx)(P.a,{className:t.red,children:"".concat(e.balance)})})]},e.username)})):ze.map((function(e){return Object(n.jsxs)(W.a,{button:!0,onClick:function(){return function(e,t){Te.push("/group/".concat(e,"/").concat(t))}(e.groupName,e.id)},className:t.listItem,children:[Object(n.jsx)(ie,{user:e.groupName}),Object(n.jsx)(G.a,{display:"inline",mr:3,children:e.balance>=0?Object(n.jsx)(P.a,{className:t.green,children:"+".concat(e.balance)}):Object(n.jsx)(P.a,{className:t.red,children:"".concat(e.balance)})})]},e.id)}))})]})})}),Object(n.jsxs)(K.a,{open:A,onClose:Le,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:"\u65b0\u589e\u4ea4\u6613"}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u5c0d\u8c61",fullWidth:!0,value:te,onChange:function(e){return ae(e.target.value)}})}),Object(n.jsxs)(X.a,{children:[Object(n.jsx)(V.a,{select:!0,margin:"dense",label:"\u985e\u5225",value:ce,onChange:function(e){return le(e.target.value)},children:oe.map((function(e){return Object(n.jsx)($.a,{value:e.value,children:e.type},e.value)}))}),Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u91d1\u984d",placeholder:"\u8acb\u586b\u5165\u6578\u5b57",value:be,error:isNaN(be),onChange:function(e){return de(e.target.value)}})]}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{margin:"dense",label:"\u5099\u8a3b",value:Oe,fullWidth:!0,onChange:function(e){return xe(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:Le,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:""===te|""===be|isNaN(be),onClick:Re,color:"primary",children:"\u78ba\u8a8d"})]})]}),Object(n.jsxs)(K.a,{open:ge,onClose:qe,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:"\u65b0\u589e\u7fa4\u7d44"}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{autoFocus:!0,required:!0,label:"\u7fa4\u7d44\u540d\u7a31",fullWidth:!0,value:Ce,onChange:function(e){return Ne(e.target.value)}})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,label:"\u7fa4\u7d44\u6210\u54e1",fullWidth:!0,placeholder:"\u8acb\u4ee5\u7a7a\u767d\u5340\u9694",value:Ee,onChange:function(e){return Ie(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:qe,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:""===Ce|""===Ee,onClick:Ge,color:"primary",children:"\u78ba\u8a8d"})]})]})]})})),ue=a(91),je=a(66),be=a.n(je),de=a(281),pe=a(147),he=a(67),Oe=a.n(he),xe=a(72),me=a.n(xe),fe=a(156),ge=a(289),ve=a(266),ye=a(270),ke=a(269),Ce=a(267),Ne=a(268),we=a(146),Se=ae,Ee={fontSize:"5px",fontFamily:"sans-serif",fill:"white"};var Ie=function(e){var t=e.data,a=Object(r.useState)(null),c=Object(l.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(null),u=Object(l.a)(o,2),j=u[0],b=u[1];return Object(r.useEffect)((function(){if(t){var e=t.map((function(e,t){return Object(C.a)(Object(C.a)({},e),{},{color:Se[t]})}));b(e)}else b(null)}),[t]),Object(n.jsx)(G.a,{children:j&&Object(n.jsx)(we.PieChart,{lineWidth:60,radius:40,label:function(e){var t=e.dataEntry,a=e.dataIndex;return i===a?t.value+"".concat(t.unit):t.title},labelStyle:Ee,animate:!0,animationDuration:500,data:j,labelPosition:70,onMouseOver:function(e,t){s(t)},onMouseOut:function(){s(void 0)}})})};de.a.addDefaultLocale(pe);var We=new de.a,Be=[{type:"\u6b20\u6211",value:!1},{type:"\u6211\u6b20",value:!0}],Pe=ne,De=[{key:0,label:"\u6b77\u53f2\u7d00\u9304"},{key:1,label:"\u7d71\u8a08"}];var Me=Object(g.a)((function(e){return{paper:{maxWidth:936,margin:"auto"},blockPaper:{padding:e.spacing(2),textAlign:"center"},typography:{width:"100%",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"rgba(0, 0, 0, 0.54)",marginTop:e.spacing(1),marginBottom:e.spacing(1)},divider:{backgroundColor:"#e4e4e4",height:"2px"},listItem:{margin:"3px",display:"flex"},box:{margin:"3px"},red:{color:"red"},green:{color:"green"}}}))((function(e){var t=e.classes,a=Object(r.useState)(0),c=Object(l.a)(a,2),i=c[0],s=c[1],u=Object(r.useState)([]),d=Object(l.a)(u,2),p=d[0],x=d[1],m=Object(r.useState)(!1),f=Object(l.a)(m,2),g=f[0],v=f[1],k=Object(r.useState)(0),C=Object(l.a)(k,2),N=C[0],w=C[1],E=Object(r.useState)(!1),I=Object(l.a)(E,2),W=I[0],B=I[1],P=Object(r.useState)(!1),D=Object(l.a)(P,2),U=D[0],z=D[1],A=Object(r.useState)(!1),T=Object(l.a)(A,2),F=T[0],Y=T[1],te=Object(r.useState)(!1),ae=Object(l.a)(te,2),ne=ae[0],re=ae[1],ce=Object(r.useState)(""),se=Object(l.a)(ce,2),oe=se[0],le=se[1],je=Object(r.useState)(""),de=Object(l.a)(je,2),pe=de[0],he=de[1],xe=Object(r.useState)([]),we=Object(l.a)(xe,2),Se=we[0],Ee=we[1],Me=Object(r.useState)([]),Ue=Object(l.a)(Me,2),ze=Ue[0],Ae=Ue[1],Te=Object(r.useState)(!1),Fe=Object(l.a)(Te,2),Le=(Fe[0],Fe[1]),Re=Object(r.useState)(""),qe=Object(l.a)(Re,2),Ge=qe[0],He=qe[1],Ye=Object(r.useState)(""),_e=Object(l.a)(Ye,2),Je=_e[0],Ve=_e[1],Ke=Object(r.useState)(!1),Qe=Object(l.a)(Ke,2),Xe=Qe[0],Ze=Qe[1],$e=Object(r.useState)(0),et=Object(l.a)($e,2),tt=et[0],at=et[1],nt=Object(r.useState)(""),rt=Object(l.a)(nt,2),ct=rt[0],it=rt[1],st=Object(r.useState)(null),ot=Object(l.a)(st,2),lt=ot[0],ut=ot[1],jt=Object(r.useState)(""),bt=Object(l.a)(jt,2),dt=bt[0],pt=bt[1],ht=Object(o.g)(),Ot=Object(r.useContext)(O).currentUser,xt=Object(o.h)().friend,mt=function(){B(!1)},ft=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={creditor:ne?xt:Ot.username,debtor:ne?Ot.username:xt,amount:Number(oe),description:pe,type:"PERSONAL"},e.prev=1,e.next=4,h.Event.createEvent(t);case 4:(a=e.sent).data.success?(B(!1),le(""),he(""),gt()):alert(a.data.error),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),B(!1),le(""),he(""),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ot.username){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.Event.getFriendEvent(Ot.username,xt);case 5:(t=e.sent).data.success?x(t.data.data.events):alert(t.data.error),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){z(!1)},yt=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:Ot.username,eventId:dt,amount:Number(Ge),description:Je,type:"PERSONAL"},e.prev=1,e.next=4,h.Event.updateEvent(t);case 4:(a=e.sent).data.success?(z(!1),He(""),Ve(""),gt()):alert(a.data.error),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),z(!1),He(""),Ve(""),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),kt=function(){Y(!1)},Ct=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={creditor:Xe?Ot.username:xt,debtor:Xe?xt:Ot.username,amount:Number(tt),description:ct,type:"PERSONAL"},e.prev=1,e.next=4,h.Event.createEvent(t);case 4:(a=e.sent).data.success?(Y(!1),Ze(!1),at(0),it(""),gt()):alert(a.data.error),e.next=15;break;case 8:e.prev=8,e.t0=e.catch(1),Y(!1),Ze(!1),at(0),it(""),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){gt()}),[]),Object(r.useEffect)((function(){if(0!==p.length){var e=0;p.forEach((function(t){e+=t.amount})),w(e)}}),[p]),Object(r.useEffect)((function(){if(p){var e=Ot.username,t=[].concat(Object(ue.a)(p),[{time:(new Date).toISOString()}]),a={},n={};a["".concat(e)]=0,n["".concat(e)]=0,a["".concat(xt)]=0,n["".concat(xt)]=0;var r=0;t.forEach((function(c,i){if(c.amount){(r+=c.amount)>0?n["".concat(xt)]<r&&(n["".concat(xt)]=r):r<0&&n["".concat(e)]<-r&&(n["".concat(e)]=-r);var s=new Date(t[i+1].time)-new Date(c.time);r>0?a["".concat(xt)]?a["".concat(xt)]+=s:a["".concat(xt)]=s:r<0&&(a["".concat(e)]?a["".concat(e)]+=s:a["".concat(e)]=s)}}));for(var c=[],i=0,s=Object.entries(n);i<s.length;i++){var o=Object(l.a)(s[i],2),u=o[0],j=o[1];0!==j&&c.push({title:u,value:Math.round(j),unit:"\u5143"})}Ae(c);var b=[],d=864e5,h=36e5;if(Object.values(a).some((function(e){return e>=432e5})))for(var O=0,x=Object.entries(a);O<x.length;O++){var m=Object(l.a)(x[O],2),f=m[0],g=m[1],v=Math.round(g/d,-1);0!==v&&b.push({title:f,value:v,unit:"\u5929"})}else if(Object.values(a).some((function(e){return e>=18e5})))for(var y=0,k=Object.entries(a);y<k.length;y++){var C=Object(l.a)(k[y],2),N=C[0],w=C[1],S=Math.round(w/h,-1);0!==S&&b.push({title:N,value:S,unit:"\u5c0f\u6642"})}else if(Object.values(a).some((function(e){return e>=3e4})))for(var E=0,I=Object.entries(a);E<I.length;E++){var W=Object(l.a)(I[E],2),B=W[0],P=W[1],D=Math.round(P/6e4,-1);0!==D&&b.push({title:B,value:D,unit:"\u5206\u9418"})}else for(var M=0,U=Object.entries(a);M<U.length;M++){var z=Object(l.a)(U[M],2),A=z[0],T=z[1],F=Math.round(T/1e3,-1);0!==F&&b.push({title:A,value:F,unit:"\u79d2\u9418"})}Ee(b)}}),[p]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsx)(L.a,{className:t.blockPaper,color:"primary",children:Object(n.jsxs)(G.a,{mx:2,style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)(ie,{user:xt}),Object(n.jsxs)(G.a,{style:{display:"flex"},children:[Object(n.jsx)(y.a,{children:"\u5408\u8a08\uff1a".concat(N<0?"":"+").concat(N)}),"\xa0\xa0"]})]})})})}),Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.paper,color:"primary",children:[Object(n.jsx)(R.a,{value:i,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){s(t)},children:De.map((function(e){return Object(n.jsx)(q.a,{value:e.key,label:e.label},e.key)}))}),Object(n.jsx)(S.a,{className:t.divider}),0===i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(G.a,{mx:2,mt:1,align:"right",children:[Object(n.jsx)(H.a,{onClick:function(){return v(!g)},children:Object(n.jsx)(Oe.a,{})}),Object(n.jsx)(H.a,{onClick:function(){return B(!0)},children:Object(n.jsx)(_.a,{})}),Object(n.jsx)(H.a,{onClick:function(){return ht.push("/home")},children:Object(n.jsx)(M.a,{})})]}),Object(n.jsxs)(ve.a,{children:[Object(n.jsxs)("colgroup",{children:[Object(n.jsx)("col",{width:"15%"}),Object(n.jsx)("col",{width:"30%"}),Object(n.jsx)("col",{width:"25%"}),Object(n.jsx)("col",{width:"25%"}),Object(n.jsx)("col",{width:"5%"})]}),Object(n.jsx)(Ce.a,{children:Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(ke.a,{align:"center",children:"\u985e\u578b"}),Object(n.jsx)(ke.a,{align:"center",children:"\u6558\u8ff0"}),Object(n.jsx)(ke.a,{align:"center",children:"\u91d1\u984d"}),Object(n.jsx)(ke.a,{align:"center",children:"\u6642\u9593"}),Object(n.jsx)(ke.a,{align:"center"})]})}),Object(n.jsx)(ye.a,{children:p.map((function(e,a){return Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(ke.a,{align:"center",children:Object(n.jsx)(ge.a,{color:Pe[e.type].color,label:Pe[e.type].label,variant:"outlined"})}),Object(n.jsx)(ke.a,{align:"center",children:e.description}),Object(n.jsx)(ke.a,{align:"center",className:e.amount<0?t.red:t.green,children:e.amount<0?e.amount:"+".concat(e.amount)}),Object(n.jsx)(ke.a,{align:"center",children:g?We.format(new Date(e.time)):be()(e.time).format("YYYY/MM/DD HH:mm")}),Object(n.jsx)(ke.a,{align:"center",children:Object(n.jsx)(H.a,{onClick:function(t){return function(e,t,a,n){ut(e.currentTarget),pt(t),Le(!(Number(a)>=0)),He(Number(a)>=0?Number(a):-1*Number(a)),Ve(n),Ze(!(Number(a)>=0)),at(Number(a)>=0?Number(a):-1*Number(a)),it(Number(a)>=0?"\u6536\u9322\uff1a".concat(n):"\u9084\u9322\uff1a".concat(n))}(t,e.id,e.amount,e.description)},children:Object(n.jsx)(me.a,{})})})]},a)}))})]})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(ee.a,{container:!0,children:[Object(n.jsx)(ee.a,{item:!0,xs:6,children:Object(n.jsxs)(G.a,{pt:3,children:[Object(n.jsx)(y.a,{variant:"h5",align:"center",children:"\u6b20\u50b5\u6642\u9593\u9577\u5ea6"}),Object(n.jsx)(Ie,{data:Se})]})}),Object(n.jsx)(ee.a,{item:!0,xs:6,children:Object(n.jsxs)(G.a,{pt:3,children:[Object(n.jsx)(y.a,{variant:"h5",align:"center",children:"\u6700\u9ad8\u6b20\u50b5\u91d1\u984d"}),Object(n.jsx)(Ie,{data:ze})]})})]})})]})})}),Object(n.jsxs)(fe.a,{id:"account-menu",anchorEl:lt,open:Boolean(lt),onClose:function(){return ut(null)},keepMounted:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(n.jsx)($.a,{onClick:function(){ut(null),z(!0)},children:"\u7de8\u8f2f"}),Object(n.jsx)($.a,{onClick:function(){ut(null),Y(!0)},children:Xe?"\u9084\u9322":"\u6536\u9322"})]}),Object(n.jsxs)(K.a,{open:W,onClose:mt,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:"\u65b0\u589e\u4ea4\u6613"}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,disabled:!0,margin:"dense",label:"\u5c0d\u8c61",fullWidth:!0,value:xt})}),Object(n.jsxs)(X.a,{children:[Object(n.jsx)(V.a,{select:!0,margin:"dense",label:"\u985e\u5225",value:ne,onChange:function(e){return re(e.target.value)},children:Be.map((function(e){return Object(n.jsx)($.a,{value:e.value,children:e.type},e.value)}))}),Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u91d1\u984d",placeholder:"\u8acb\u586b\u5165\u975e\u8ca0\u6578\u5b57",value:oe,error:isNaN(oe)|oe<0,onChange:function(e){return le(e.target.value)}})]}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{margin:"dense",label:"\u5099\u8a3b",value:pe,fullWidth:!0,onChange:function(e){return he(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:mt,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:isNaN(oe)|""===oe|oe<0,onClick:ft,color:"primary",children:"\u78ba\u8a8d"})]})]}),Object(n.jsxs)(K.a,{open:U,onClose:vt,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:"\u7de8\u8f2f\u4ea4\u6613"}),Object(n.jsxs)(X.a,{children:[Object(n.jsx)(y.a,{children:Xe?"\u6211\u6b20".concat(xt):"".concat(xt,"\u6b20\u6211")}),Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u91d1\u984d",placeholder:"\u8acb\u586b\u5165\u975e\u8ca0\u6578\u5b57",value:Ge,error:isNaN(Ge)|Ge<0,onChange:function(e){return He(e.target.value)}})]}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{margin:"dense",label:"\u5099\u8a3b",value:Je,fullWidth:!0,onChange:function(e){return Ve(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:vt,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:isNaN(Ge)|""===Ge|Ge<0,onClick:yt,color:"primary",children:"\u78ba\u8a8d"})]})]}),Object(n.jsxs)(K.a,{open:F,onClose:kt,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:Xe?"\u9084\u7d66".concat(xt):"\u5411".concat(xt,"\u6536\u53d6")}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u91d1\u984d",placeholder:"\u8acb\u586b\u5165\u975e\u8ca0\u6578\u5b57",value:tt,error:isNaN(tt)|tt<0,onChange:function(e){return at(e.target.value)}})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{margin:"dense",label:"\u5099\u8a3b",value:ct,fullWidth:!0,onChange:function(e){return it(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:kt,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:isNaN(tt)|""===tt|tt<0,onClick:Ct,color:"primary",children:"\u78ba\u8a8d"})]})]})]})})),Ue=a(150),ze=a.n(Ue),Ae=a(272),Te=a(271),Fe=a(148),Le=a.n(Fe),Re=a(149),qe=a.n(Re),Ge=new de.a,He=[{key:0,label:"\u6b77\u53f2\u7d00\u9304"},{key:1,label:"\u7d71\u8a08"}];var Ye=Object(g.a)((function(e){return{paper:{maxWidth:936,margin:"auto"},blockPaper:{padding:e.spacing(2),textAlign:"center"},typography:{width:"100%",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"rgba(0, 0, 0, 0.54)",marginTop:e.spacing(1),marginBottom:e.spacing(1)},divider:{backgroundColor:"#e4e4e4",height:"2px"},listItem:{margin:"3px",display:"flex"},box:{margin:"3px"},red:{color:"red"},green:{color:"green"}}}))((function(e){var t=e.classes,a=Object(r.useState)(0),c=Object(l.a)(a,2),i=c[0],s=c[1],u=Object(r.useState)([]),d=Object(l.a)(u,2),p=d[0],x=d[1],m=Object(r.useState)([]),f=Object(l.a)(m,2),g=f[0],v=f[1],k=Object(r.useState)([]),C=Object(l.a)(k,2),N=(C[0],C[1]),w=Object(r.useState)([]),E=Object(l.a)(w,2),B=E[0],D=E[1],U=Object(r.useState)(!1),z=Object(l.a)(U,2),A=z[0],T=z[1],F=Object(r.useState)(0),Y=Object(l.a)(F,2),te=Y[0],ae=Y[1],ne=Object(r.useState)(!1),re=Object(l.a)(ne,2),ce=re[0],se=re[1],oe=Object(r.useState)(!1),le=Object(l.a)(oe,2),je=le[0],de=le[1],pe=Object(r.useState)(!1),he=Object(l.a)(pe,2),xe=he[0],ge=he[1],we=Object(r.useState)(!1),Se=Object(l.a)(we,2),Ee=Se[0],We=Se[1],Be=Object(r.useState)(""),Pe=Object(l.a)(Be,2),De=Pe[0],Me=Pe[1],Ue=Object(r.useState)(""),Fe=Object(l.a)(Ue,2),Re=Fe[0],Ye=Fe[1],_e=Object(r.useState)(""),Je=Object(l.a)(_e,2),Ve=Je[0],Ke=Je[1],Qe=Object(r.useState)(""),Xe=Object(l.a)(Qe,2),Ze=Xe[0],$e=Xe[1],et=Object(r.useState)(!1),tt=Object(l.a)(et,2),at=tt[0],nt=tt[1],rt=Object(r.useState)(""),ct=Object(l.a)(rt,2),it=ct[0],st=ct[1],ot=Object(r.useState)(!1),lt=Object(l.a)(ot,2),ut=lt[0],jt=lt[1],bt=Object(r.useState)(""),dt=Object(l.a)(bt,2),pt=dt[0],ht=dt[1],Ot=Object(r.useState)([]),xt=Object(l.a)(Ot,2),mt=xt[0],ft=xt[1],gt=Object(r.useState)([]),vt=Object(l.a)(gt,2),yt=vt[0],kt=vt[1],Ct=Object(r.useState)(""),Nt=Object(l.a)(Ct,2),wt=Nt[0],St=Nt[1],Et=Object(r.useState)(""),It=Object(l.a)(Et,2),Wt=It[0],Bt=It[1],Pt=Object(r.useState)(0),Dt=Object(l.a)(Pt,2),Mt=Dt[0],Ut=Dt[1],zt=Object(r.useState)(""),At=Object(l.a)(zt,2),Tt=At[0],Ft=At[1],Lt=Object(r.useState)(""),Rt=Object(l.a)(Lt,2),qt=Rt[0],Gt=Rt[1],Ht=Object(r.useState)(""),Yt=Object(l.a)(Ht,2),_t=Yt[0],Jt=Yt[1],Vt=Object(r.useState)(null),Kt=Object(l.a)(Vt,2),Qt=Kt[0],Xt=Kt[1],Zt=Object(r.useState)(""),$t=Object(l.a)(Zt,2),ea=$t[0],ta=$t[1],aa=Object(o.g)(),na=Object(r.useContext)(O).currentUser,ra=Object(o.h)(),ca=ra.groupName,ia=ra.id,sa=function(){de(!1)},oa=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={creditor:De,debtor:Re,amount:Number(Ve),description:Ze,type:"GROUP",groupId:ia},e.prev=1,e.next=4,h.Event.createEvent(t);case 4:(a=e.sent).data.success?(de(!1),Me(""),Ye(""),Ke(""),$e(""),da()):alert(a.data.error),e.next=16;break;case 8:e.prev=8,e.t0=e.catch(1),de(!1),Me(""),Ye(""),Ke(""),$e(""),alert(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),la=function(){nt(!1)},ua=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=it.split(" "),a={groupId:ia,usernames:t},e.prev=2,e.next=5,h.Group.addUser(a);case 5:(n=e.sent).data.success?(nt(!1),st(""),da()):alert(n.data.error),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),nt(!1),st(""),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),ja=function(){jt(!1)},ba=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={groupId:ia,usernames:pt},e.prev=1,e.next=4,h.Group.removeUser(t);case 4:(a=e.sent).data.success?(jt(!1),ht(""),pt===na.username?aa.replace("/home"):da()):alert(a.data.error),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),da=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(na.username){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.Group.getGroupEvent(na.username,ia);case 5:(t=e.sent).data.success?(x(t.data.data.users),v(t.data.data.events)):(alert(t.data.error),aa.push("/home")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),pa=function(){ge(!1)},ha=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:na.username,eventId:ea,amount:Number(wt),description:Wt,type:"GROUP"},e.prev=1,e.next=4,h.Event.updateEvent(t);case 4:(a=e.sent).data.success?(ge(!1),St(""),Bt(""),da()):alert(a.data.error),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),ge(!1),St(""),Bt(""),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Oa=function(){We(!1)},xa=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={creditor:_t,debtor:qt,amount:Number(Mt),description:Tt,type:"GROUP",groupId:ia},e.prev=1,e.next=4,h.Event.createEvent(t);case 4:(a=e.sent).data.success?(We(!1),Ut(0),Ft(""),da()):alert(a.data.error),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),We(!1),Ut(0),Ft(""),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){da()}),[]),Object(r.useEffect)((function(){if(0!==g.length){for(var e=0,t=[],a=[],n=0;n<p.length;n+=1)t.push(0),a.push(0);g.forEach((function(n){var r=p.findIndex((function(e){return n.creditor===e})),c=p.findIndex((function(e){return n.debtor===e}));t[r]+=n.amount,t[c]-=n.amount,n.creditor===na.username?(a[c]+=n.amount,console.log(a[c]),e+=n.amount):n.debtor===na.username&&(a[r]-=n.amount,e-=n.amount)})),ae(e),N(t),D(a)}}),[g]),Object(r.useEffect)((function(){if(g){var e=[].concat(Object(ue.a)(g),[{time:(new Date).toISOString()}]),t={},a={},n={},r={};p.forEach((function(e){t["".concat(e)]=0,a["".concat(e)]=0,r["".concat(e)]=0,n["".concat(e)]=0})),e.forEach((function(e,c){e.amount?(r["".concat(e.creditor)]+=e.amount,r["".concat(e.debtor)]-=e.amount,r["".concat(e.debtor)]<0&&a["".concat(e.debtor)]<-r["".concat(e.debtor)]&&(a["".concat(e.debtor)]=-r["".concat(e.debtor)]),r["".concat(e.creditor)]>0?0!==n["".concat(e.creditor)]&&(t["".concat(e.creditor)]+=new Date(e.time)-n["".concat(e.creditor)],n["".concat(e.creditor)]=0):r["".concat(e.creditor)]<0&&0===n["".concat(e.creditor)]&&(n["".concat(e.creditor)]=new Date(e.time)),r["".concat(e.debtor)]>0?0!==n["".concat(e.debtor)]&&(t["".concat(e.debtor)]+=new Date(e.time)-n["".concat(e.debtor)],n["".concat(e.debtor)]=0):r["".concat(e.debtor)]<0&&0===n["".concat(e.debtor)]&&(n["".concat(e.debtor)]=new Date(e.time))):p.forEach((function(a){0!==n["".concat(a)]&&(t["".concat(a)]+=new Date(e.time)-n["".concat(a)])}))}));for(var c=[],i=0,s=Object.entries(a);i<s.length;i++){var o=Object(l.a)(s[i],2),u=o[0],j=o[1];0!==j&&c.push({title:u,value:j,unit:"\u5143"})}kt(c);var b=[],d=864e5,h=36e5;if(console.log("time",t),Object.values(t).some((function(e){return e>=432e5})))for(var O=0,x=Object.entries(t);O<x.length;O++){var m=Object(l.a)(x[O],2),f=m[0],v=m[1],y=Math.round(v/d,-1);0!==y&&b.push({title:f,value:y,unit:"\u5929"})}else if(Object.values(t).some((function(e){return e>=18e5})))for(var k=0,C=Object.entries(t);k<C.length;k++){var N=Object(l.a)(C[k],2),w=N[0],S=N[1],E=Math.round(S/h,-1);0!==E&&b.push({title:w,value:E,unit:"\u5c0f\u6642"})}else if(Object.values(t).some((function(e){return e>=3e4})))for(var I=0,W=Object.entries(t);I<W.length;I++){var B=Object(l.a)(W[I],2),P=B[0],D=B[1],M=Math.round(D/6e4,-1);0!==M&&b.push({title:P,value:M,unit:"\u5206\u9418"})}else for(var U=0,z=Object.entries(t);U<z.length;U++){var A=Object(l.a)(z[U],2),T=A[0],F=A[1],L=Math.round(F/1e3,-1);0!==L&&b.push({title:T,value:L,unit:"\u79d2\u9418"})}ft(b)}}),[g]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsx)(L.a,{className:t.blockPaper,color:"primary",children:Object(n.jsxs)(G.a,{mx:2,style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)(G.a,{style:{display:"flex"},children:Object(n.jsx)(ie,{user:ca})}),Object(n.jsx)(y.a,{children:"\u5408\u8a08\uff1a".concat(te<0?"":"+").concat(te)})]})})})}),Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.blockPaper,color:"primary",children:[Object(n.jsxs)(W.a,{button:!0,onClick:function(){se(!ce)},children:[Object(n.jsx)(P.a,{primary:"\u7fa4\u7d44\u6210\u54e1"}),ce?Object(n.jsx)(Le.a,{}):Object(n.jsx)(qe.a,{})]}),Object(n.jsx)(Te.a,{in:ce,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(I.a,{component:"div",disablePadding:!0,children:[Object(n.jsxs)(G.a,{mx:2,mt:1,align:"right",children:[Object(n.jsx)(H.a,{onClick:function(){return nt(!0)},children:Object(n.jsx)(_.a,{})}),Object(n.jsx)(H.a,{onClick:function(){return jt(!0)},children:Object(n.jsx)(ze.a,{})})]}),p.map((function(e,a){return Object(n.jsxs)(W.a,{className:t.listItem,children:[Object(n.jsx)(ie,{user:e}),Object(n.jsx)(Ae.a,{children:e===na.username?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)(P.a,{primary:"\u5408\u8a08\uff1a".concat(B[a])})})]})}))]})})]})})}),Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.paper,color:"primary",children:[Object(n.jsx)(R.a,{value:i,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){s(t)},children:He.map((function(e){return Object(n.jsx)(q.a,{value:e.key,label:e.label},e.key)}))}),Object(n.jsx)(S.a,{className:t.divider}),0===i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(G.a,{mx:2,mt:1,align:"right",children:[Object(n.jsx)(H.a,{onClick:function(){return T(!A)},children:Object(n.jsx)(Oe.a,{})}),Object(n.jsx)(H.a,{onClick:function(){return de(!0)},children:Object(n.jsx)(_.a,{})}),Object(n.jsx)(H.a,{onClick:function(){return aa.push("/home")},children:Object(n.jsx)(M.a,{})})]}),Object(n.jsxs)(ve.a,{children:[Object(n.jsxs)("colgroup",{children:[Object(n.jsx)("col",{width:"15%"}),Object(n.jsx)("col",{width:"15%"}),Object(n.jsx)("col",{width:"25%"}),Object(n.jsx)("col",{width:"20%"}),Object(n.jsx)("col",{width:"20%"}),Object(n.jsx)("col",{width:"5%"})]}),Object(n.jsx)(Ce.a,{children:Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(ke.a,{align:"center",children:"\u50b5\u6b0a\u4eba"}),Object(n.jsx)(ke.a,{align:"center",children:"\u50b5\u52d9\u4eba"}),Object(n.jsx)(ke.a,{align:"center",children:"\u6558\u8ff0"}),Object(n.jsx)(ke.a,{align:"center",children:"\u91d1\u984d"}),Object(n.jsx)(ke.a,{align:"center",children:"\u6642\u9593"}),Object(n.jsx)(ke.a,{align:"center"})]})}),Object(n.jsx)(ye.a,{children:g.map((function(e,a){return Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(ke.a,{align:"center",children:Object(n.jsx)(ie,{user:e.creditor,onClick:function(){e.creditor==na.username?aa.push("/account"):aa.push("/friend/".concat(e.creditor))}})}),Object(n.jsx)(ke.a,{align:"center",children:Object(n.jsx)(ie,{user:e.debtor,onClick:function(){e.debtor==na.username?aa.push("/account"):aa.push("/friend/".concat(e.debtor))}})}),Object(n.jsx)(ke.a,{align:"center",children:e.description}),Object(n.jsx)(ke.a,{align:"center",className:t.green,children:e.amount}),Object(n.jsx)(ke.a,{align:"center",children:A?Ge.format(new Date(e.time)):be()(e.time).format("YYYY/MM/DD HH:mm")}),Object(n.jsx)(ke.a,{align:"center",children:na.username===e.creditor|na.username===e.debtor?Object(n.jsx)(H.a,{onClick:function(t){return function(e,t,a,n,r,c){Xt(e.currentTarget),ta(t),Gt(a),Jt(n),St(Number(r)),Bt(c),Ut(Number(r)),Ft("".concat(n,"\u9084\u9322\uff1a").concat(c))}(t,e.id,e.creditor,e.debtor,e.amount,e.description)},children:Object(n.jsx)(me.a,{})}):Object(n.jsx)(n.Fragment,{})})]},a)}))})]})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(ee.a,{container:!0,children:[Object(n.jsx)(ee.a,{item:!0,xs:6,children:Object(n.jsxs)(G.a,{pt:3,children:[Object(n.jsx)(y.a,{variant:"h5",align:"center",children:"\u6b20\u50b5\u6642\u9593\u9577\u5ea6"}),Object(n.jsx)(Ie,{data:mt})]})}),Object(n.jsx)(ee.a,{item:!0,xs:6,children:Object(n.jsxs)(G.a,{pt:3,children:[Object(n.jsx)(y.a,{variant:"h5",align:"center",children:"\u6700\u9ad8\u6b20\u50b5\u91d1\u984d"}),Object(n.jsx)(Ie,{data:yt})]})})]})})]})})}),Object(n.jsxs)(fe.a,{id:"account-menu",anchorEl:Qt,open:Boolean(Qt),onClose:function(){return Xt(null)},keepMounted:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(n.jsx)($.a,{onClick:function(){Xt(null),ge(!0)},children:"\u7de8\u8f2f"}),Object(n.jsx)($.a,{onClick:function(){Xt(null),We(!0)},children:_t===na.username?"\u9084\u9322":"\u6536\u9322"})]}),Object(n.jsxs)(K.a,{open:je,onClose:sa,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:"\u65b0\u589e\u4ea4\u6613"}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,select:!0,margin:"dense",label:"\u50b5\u6b0a\u4eba",fullWidth:!0,value:De,onChange:function(e){return Me(e.target.value)},children:p&&p.map((function(e){return Object(n.jsx)($.a,{value:e,children:e},e)}))})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,select:!0,margin:"dense",label:"\u50b5\u52d9\u4eba",fullWidth:!0,error:""!==Re&&De===Re,helperText:""!==Re&&De===Re&&"\u50b5\u52d9\u4eba\u4e0d\u53ef\u8207\u50b5\u6b0a\u4eba\u76f8\u540c",value:Re,onChange:function(e){return Ye(e.target.value)},children:p&&p.map((function(e){return Object(n.jsx)($.a,{value:e,children:e},e)}))})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u91d1\u984d",placeholder:"\u8acb\u586b\u5165\u975e\u8ca0\u6578\u5b57",value:Ve,error:isNaN(Ve)|Ve<0,onChange:function(e){return Ke(e.target.value)}})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{margin:"dense",label:"\u5099\u8a3b",value:Ze,fullWidth:!0,onChange:function(e){return $e(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:sa,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:""===De||""===Re||isNaN(Ve)||""===Ve||Ve<0||De===Re,onClick:oa,color:"primary",children:"\u78ba\u8a8d"})]})]}),Object(n.jsxs)(K.a,{open:at,onClose:la,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:"\u65b0\u589e\u6210\u54e1"}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,label:"\u65b0\u589e\u6210\u54e1",fullWidth:!0,placeholder:"\u8acb\u4ee5\u7a7a\u767d\u5340\u9694",value:it,onChange:function(e){return st(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:la,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:""===it,onClick:ua,color:"primary",children:"\u78ba\u8a8d"})]})]}),Object(n.jsxs)(K.a,{open:ut,onClose:ja,maxWidth:"xs",fullWidth:!0,children:[Object(n.jsx)(Z.a,{children:"\u79fb\u9664\u6210\u54e1"}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,select:!0,margin:"dense",label:"\u79fb\u9664\u6210\u54e1",fullWidth:!0,value:pt,onChange:function(e){return ht(e.target.value)},children:p&&p.map((function(e){return Object(n.jsx)($.a,{value:e,children:e},e)}))})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:ja,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:""===pt,onClick:ba,color:"primary",children:"\u78ba\u8a8d"})]})]}),Object(n.jsxs)(K.a,{open:xe,onClose:pa,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:"\u7de8\u8f2f\u4ea4\u6613"}),Object(n.jsxs)(X.a,{children:[Object(n.jsx)(y.a,{children:"".concat(_t,"\u6b20").concat(qt)}),Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u91d1\u984d",placeholder:"\u8acb\u586b\u5165\u975e\u8ca0\u6578\u5b57",value:wt,error:isNaN(wt)|wt<0,onChange:function(e){return St(e.target.value)}})]}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{margin:"dense",label:"\u5099\u8a3b",value:Wt,fullWidth:!0,onChange:function(e){return Bt(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:pa,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:isNaN(wt)|""===wt|wt<0,onClick:ha,color:"primary",children:"\u78ba\u8a8d"})]})]}),Object(n.jsxs)(K.a,{open:Ee,onClose:Oa,maxWidth:"md",children:[Object(n.jsx)(Z.a,{children:_t===na.username?"".concat(_t,"\u9084\u7d66").concat(qt):"".concat(qt,"\u5411").concat(_t,"\u6536\u53d6")}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{required:!0,margin:"dense",label:"\u91d1\u984d",placeholder:"\u8acb\u586b\u5165\u975e\u8ca0\u6578\u5b57",value:Mt,error:isNaN(Mt)|Mt<0,onChange:function(e){return Ut(e.target.value)}})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(V.a,{margin:"dense",label:"\u5099\u8a3b",value:Tt,fullWidth:!0,onChange:function(e){return Ft(e.target.value)}})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(J.a,{onClick:Oa,color:"primary",children:"\u53d6\u6d88"}),Object(n.jsx)(J.a,{disabled:isNaN(Mt)|""===Mt|Mt<0,onClick:xa,color:"primary",children:"\u78ba\u8a8d"})]})]})]})}));var _e=Object(g.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))((function(e){return e.classes,Object(n.jsx)("div",{children:"Setting page"})}));var Je=Object(g.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))((function(e){return e.classes,Object(n.jsx)("div",{children:"About page"})})),Ve=a(273),Ke=a(274),Qe=a(286),Xe=a(100),Ze=a.n(Xe),$e=a(101),et=a.n($e);var tt=Object(g.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))((function(e){var t=e.classes;return Object(n.jsxs)(L.a,{className:t.paper,children:[Object(n.jsx)(Ve.a,{className:t.searchBar,position:"static",color:"default",elevation:0,children:Object(n.jsx)(Ke.a,{children:Object(n.jsxs)(ee.a,{container:!0,spacing:2,alignItems:"center",children:[Object(n.jsx)(ee.a,{item:!0,children:Object(n.jsx)(Ze.a,{className:t.block,color:"inherit"})}),Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsx)(V.a,{fullWidth:!0,placeholder:"Search by email address, phone number, or user UID",InputProps:{disableUnderline:!0,className:t.searchInput}})}),Object(n.jsxs)(ee.a,{item:!0,children:[Object(n.jsx)(J.a,{variant:"contained",color:"primary",className:t.addUser,children:"Add user"}),Object(n.jsx)(Qe.a,{title:"Reload",children:Object(n.jsx)(H.a,{children:Object(n.jsx)(et.a,{className:t.block,color:"inherit"})})})]})]})})}),Object(n.jsx)("div",{className:t.contentWrapper,children:Object(n.jsx)(y.a,{color:"textSecondary",align:"center",children:"No users for this project yet"})})]})})),at=new de.a,nt=ne;var rt={route:[{path:"/home",name:"home",component:le},{path:"/group/:groupName/:id",name:"group",component:Ye},{path:"/friend/:friend",name:"friend",component:Me},{path:"/setting",name:"setting",component:_e},{path:"/about",name:"about",component:Je},{path:"/account",name:"account",component:Object(g.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"},typography:{width:"100%",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"rgba(0, 0, 0, 0.54)",marginTop:e.spacing(1),marginBottom:e.spacing(1)},divider:{backgroundColor:"#e4e4e4",height:"2px"},red:{color:"red"},green:{color:"green"}}}))((function(e){var t=e.classes,a=Object(r.useContext)(O).currentUser,c=Object(o.g)(),i=Object(r.useState)([]),s=Object(l.a)(i,2),u=s[0],d=s[1],p=Object(r.useState)(!1),x=Object(l.a)(p,2),m=x[0],f=x[1],g=Object(r.useState)(0),v=Object(l.a)(g,2),k=v[0],C=v[1],N=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.username){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.Event.getAllEvent(a.username);case 5:(t=e.sent).data.success&&(d(t.data.data.events),C(t.data.data.balance)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){N()}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.paper,color:"primary",children:[Object(n.jsx)(y.a,{align:"center",className:t.typography,children:"\u500b\u4eba\u8cc7\u6599"}),Object(n.jsx)(S.a,{className:t.divider}),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(G.a,{p:3,children:[Object(n.jsx)(G.a,{style:{display:"flex"},children:Object(n.jsxs)(y.a,{children:["\u4f7f\u7528\u8005\uff1a",a.username]})}),Object(n.jsxs)(G.a,{style:{display:"flex"},children:[Object(n.jsx)(y.a,{children:"\u5408\u8a08\uff1a"}),Object(n.jsx)(y.a,{className:k<0?t.red:t.green,children:k<0?k:"+".concat(k)})]})]})})]})})}),Object(n.jsx)(ee.a,{container:!0,spacing:3,className:t.paper,children:Object(n.jsx)(ee.a,{item:!0,xs:!0,children:Object(n.jsxs)(L.a,{className:t.paper,color:"primary",children:[Object(n.jsx)(y.a,{align:"center",className:t.typography,children:"\u6b77\u53f2\u7d00\u9304"}),Object(n.jsx)(S.a,{className:t.divider}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(G.a,{mx:2,mt:1,align:"right",children:[Object(n.jsx)(H.a,{onClick:function(){return f(!m)},children:Object(n.jsx)(Oe.a,{})}),Object(n.jsx)(H.a,{onClick:function(){return c.push("/home")},children:Object(n.jsx)(M.a,{})})]}),Object(n.jsxs)(ve.a,{children:[Object(n.jsxs)("colgroup",{children:[Object(n.jsx)("col",{width:"15%"}),Object(n.jsx)("col",{width:"20%"}),Object(n.jsx)("col",{width:"20%"}),Object(n.jsx)("col",{width:"25%"}),Object(n.jsx)("col",{width:"20%"})]}),Object(n.jsx)(Ce.a,{children:Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(ke.a,{align:"center",children:"\u5c0d\u8c61"}),Object(n.jsx)(ke.a,{align:"center",children:"\u985e\u578b"}),Object(n.jsx)(ke.a,{align:"center",children:"\u6558\u8ff0"}),Object(n.jsx)(ke.a,{align:"center",children:"\u91d1\u984d"}),Object(n.jsx)(ke.a,{align:"center",children:"\u6642\u9593"})]})}),Object(n.jsx)(ye.a,{children:u.map((function(e,a){return Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(ke.a,{align:"center",children:Object(n.jsx)(ie,{user:e.friend,onClick:function(){return c.push("/friend/".concat(e.friend))}})}),Object(n.jsx)(ke.a,{align:"center",children:Object(n.jsx)(ge.a,{color:nt[e.type].color,label:nt[e.type].label,variant:"outlined"})}),Object(n.jsx)(ke.a,{align:"center",children:e.description}),Object(n.jsx)(ke.a,{align:"center",className:e.amount<0?t.red:t.green,children:e.amount<0?e.amount:"+".concat(e.amount)}),Object(n.jsx)(ke.a,{align:"center",children:m?at.format(new Date(e.time)):be()(e.time).format("YYYY/MM/DD HH:mm")})]},a)}))})]})]})]})})})]})}))},{path:"/template",name:"template",component:tt}],nav_items:[{categoryName:"\u7fa4\u7d44",items:[{name:"\u6211\u7684\u7fa4\u7d44",url:"/groups",icon:Object(n.jsx)(F.a,{})},{name:"\u65b0\u589e\u7fa4\u7d44",url:"/groups/new",icon:Object(n.jsx)(F.a,{})}]},{categoryName:"\u5176\u4ed6",items:[{name:"\u8a2d\u5b9a",url:"/setting",icon:Object(n.jsx)(A.a,{})},{name:"\u95dc\u65bc",url:"/about",icon:Object(n.jsx)(F.a,{})},{name:"\u6a21\u677f",url:"/template",icon:Object(n.jsx)(F.a,{})}]}]};Object(g.a)((function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}}))((function(e){var t=e.classes,a=Object(N.a)(e,["classes"]),r=Object(o.g)();return Object(n.jsx)(E.a,Object(C.a)(Object(C.a)({variant:"permanent"},a),{},{children:Object(n.jsxs)(I.a,{disablePadding:!0,children:[Object(n.jsx)(U.a,{smUp:!0,children:Object(n.jsx)(W.a,{className:Object(w.a)(t.firebase,t.item,t.itemCategory),children:"\u4f7f\u7528\u8005\u8cc7\u8a0a"})}),Object(n.jsxs)(W.a,{className:Object(w.a)(t.item,t.itemCategory),button:!0,onClick:function(){return r.push("/home")},children:[Object(n.jsx)(B.a,{className:t.itemIcon,children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(P.a,{classes:{primary:t.itemPrimary},children:"\u9996\u9801"})]}),rt.nav_items.map((function(e){var a=e.categoryName,i=e.items;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(W.a,{className:t.categoryHeader,children:Object(n.jsx)(P.a,{classes:{primary:t.categoryHeaderPrimary},children:a})}),i.map((function(e){var a=e.name,c=e.icon,i=e.active,s=e.url;return Object(n.jsxs)(W.a,{button:!0,className:Object(w.a)(t.item,i&&t.itemActiveItem),onClick:function(){return r.push(s)},children:[Object(n.jsx)(B.a,{className:t.itemIcon,children:c}),Object(n.jsx)(P.a,{classes:{primary:t.itemPrimary},children:a})]},a)})),Object(n.jsx)(S.a,{className:t.divider})]},a)}))]})}))}));var ct=a(153),it=a.n(ct),st=a(154),ot=a.n(st),lt=a(139),ut=ae,jt="rgba(255, 255, 255, 0.7)";var bt,dt=Object(g.a)((function(e){return{title:{cursor:"pointer"},appBar:{zIndex:9999,padding:8,display:"flex"},menuButton:{marginLeft:-e.spacing(1)},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:jt,"&:hover":{color:e.palette.common.white}},button:{borderColor:jt}}}))((function(e){var t=e.classes,a=(e.onDrawerToggle,Object(r.useState)(null)),c=Object(l.a)(a,2),i=c[0],s=c[1],u=Object(r.useState)(ut[0]),j=Object(l.a)(u,2),b=j[0],d=j[1],p=Object(r.useContext)(O),h=p.currentUser,x=p.setCurrentUser,m=Object(o.g)();return Object(r.useEffect)((function(){d(function(e){var t=lt(e),a=Math.round(t()*ut.length);return console.log("rand",a),ut[a]}(h.username))}),[h.username]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ve.a,{component:"div",className:t.appBar,color:"primary",position:"sticky",elevation:2,children:Object(n.jsx)(Ke.a,{children:Object(n.jsxs)(ee.a,{container:!0,alignItems:"center",spacing:1,style:{justifyContent:"space-between"},children:[Object(n.jsx)(G.a,{pl:3,children:Object(n.jsx)(y.a,{color:"inherit",variant:"h4",className:t.title,onClick:function(){return m.push("/home")},children:"Messenger Pay"})}),Object(n.jsxs)(G.a,{children:[Object(n.jsx)(J.a,{className:t.button,variant:"outlined",color:"inherit",size:"small",children:"Web setup"}),Object(n.jsx)(Qe.a,{title:"Help",children:Object(n.jsx)(H.a,{color:"inherit",onClick:function(e){return s(e.currentTarget)},children:Object(n.jsx)(it.a,{})})}),Object(n.jsx)(Qe.a,{title:"Alerts \u2022 No alerts",children:Object(n.jsx)(H.a,{color:"inherit",children:Object(n.jsx)(ot.a,{})})}),Object(n.jsx)(H.a,{color:"inherit",className:t.iconButtonAvatar,children:Object(n.jsx)(te.a,{style:{background:b},onClick:function(e){return s(e.currentTarget)},children:h.username?h.username[0]:""})})]})]})})}),Object(n.jsxs)(fe.a,{id:"account-menu",anchorEl:i,open:Boolean(i),onClose:function(){return s(null)},keepMounted:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(n.jsx)($.a,{onClick:function(){s(null),m.push("/account")},children:"Account"}),Object(n.jsx)($.a,{onClick:function(){s(null),x(null),window.localStorage.removeItem("jwt"),m.replace("/login")},children:"Logout"})]})]})})),pt=a(155),ht=Object(pt.a)({palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5},h4:{fontWeight:500,fontSize:32,letterSpacing:.5},fontSize:18},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}}),Ot=ht=Object(C.a)(Object(C.a)({},ht),{},{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:ht.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:ht.palette.common.white}},MuiTab:{root:(bt={textTransform:"none",margin:"auto",minWidth:0,padding:"0 12px"},Object(m.a)(bt,ht.breakpoints.up("xl"),{padding:0,minWidth:0}),Object(m.a)(bt,"fontSize",18),bt)},MuiIconButton:{root:{padding:ht.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:ht.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}});function xt(){return Object(n.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(k.a,{color:"inherit",href:"https://material-ui.com/",children:"Messenger Pay"})," ",(new Date).getFullYear(),"."]})}var mt={root:{display:"flex",minHeight:"100vh"},drawer:Object(m.a)({},Ot.breakpoints.up("sm"),{width:256,flexShrink:0}),app:{flex:1,display:"flex",flexDirection:"column"},main:{flex:1,padding:Ot.spacing(6,4),background:"#eaeff1"},footer:{padding:Ot.spacing(2),background:"#eaeff1"}};var ft=Object(g.a)(mt)((function(e){var t=e.classes,a=Object(r.useState)(!1),c=Object(l.a)(a,2),i=c[0],s=c[1];return Object(n.jsx)(f.a,{theme:Ot,children:Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(v.a,{}),Object(n.jsxs)("div",{className:t.app,children:[Object(n.jsx)(dt,{onDrawerToggle:function(){s(!i)}}),Object(n.jsxs)("main",{className:t.main,children:[Object(n.jsx)(o.d,{children:rt.route.map((function(e){return Object(n.jsx)(o.b,{exact:!0,path:e.path,component:e.component},e.name)}))}),Object(n.jsx)(o.a,{from:"/",to:"/home"})]}),Object(n.jsx)("footer",{className:t.footer,children:Object(n.jsx)(xt,{})})]})]})})})),gt=a(213),vt=a(280),yt=a(279),kt=Object(yt.a)((function(e){return{paper:{width:"60%",margin:"10% auto"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},button:{marginRight:e.spacing(1)}}}));var Ct=function(e){var t=kt(),a=Object(o.g)(),c=Object(r.useState)(""),i=Object(l.a)(c,2),s=i[0],u=i[1],d=Object(r.useState)(""),p=Object(l.a)(d,2),x=p[0],m=p[1],f=Object(r.useState)(!1),g=Object(l.a)(f,2),v=g[0],k=g[1],C=Object(r.useState)(!0),N=Object(l.a)(C,2),w=N[0],S=N[1],E=Object(r.useContext)(O).setCurrentUser,I=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),e.prev=2,n={username:s,password:x},e.next=6,h.Auth.login(n);case 6:r=e.sent,k(!1),console.log("result",r),r.data.success?(E({username:s,isLogin:!0,isTokenValid:!0}),a.push("/")):(console.log("result",r),alert(r.data.error)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),k(!1),console.log("err",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.localStorage.getItem("jwt")){e.next=3;break}return S(!1),e.abrupt("return");case 3:return e.prev=3,e.next=6,h.Auth.authorization();case 6:(t=e.sent).data.success&&(E({username:t.data.data.username,isLogin:!0,isTokenValid:!0}),a.push("/")),S(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),E(null),S(!1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){W()}),[]),Object(n.jsxs)("div",{id:"page-login",className:"container",children:[!w&&Object(n.jsx)("form",{onSubmit:I,children:Object(n.jsx)(L.a,{className:t.paper,children:Object(n.jsxs)(G.a,{id:"page-login__wrapper",p:6,children:[Object(n.jsx)(G.a,{my:2,children:Object(n.jsx)(y.a,{variant:"h3",children:"Login"})}),Object(n.jsx)(V.a,{label:"\u5e33\u865f",fullWidth:!0,placeholder:"\u8acb\u8f38\u5165\u60a8\u7684\u5e33\u865f",margin:"normal",required:!0,value:s,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0}}),Object(n.jsx)(V.a,{label:"\u5bc6\u78bc",fullWidth:!0,placeholder:"\u8acb\u8f38\u5165\u60a8\u7684\u5bc6\u78bc",margin:"normal",required:!0,value:x,onChange:function(e){return m(e.target.value)},type:"password",InputLabelProps:{shrink:!0}}),Object(n.jsxs)(G.a,{mt:7,children:[Object(n.jsx)(J.a,{className:t.button,type:"submit",variant:"contained",color:"primary",size:"large",children:"\u767b\u5165"}),Object(n.jsx)(J.a,{className:t.button,color:"primary",onClick:function(){a.push("/register")},children:"\u65b0\u589e\u5e33\u865f"})]})]})})}),Object(n.jsx)(gt.a,{className:t.backdrop,open:v,children:Object(n.jsx)(vt.a,{color:"inherit"})})]})},Nt=Object(yt.a)((function(e){return{paper:{width:"60%",margin:"10% auto"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},button:{marginRight:e.spacing(1)}}}));var wt=function(e){var t=Nt(),a=Object(o.g)(),c=Object(r.useState)(""),i=Object(l.a)(c,2),s=i[0],u=i[1],d=Object(r.useState)(""),p=Object(l.a)(d,2),x=p[0],m=p[1],f=Object(r.useState)(!1),g=Object(l.a)(f,2),v=g[0],k=g[1],N=Object(r.useContext)(O).setCurrentUser,w=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),e.prev=2,n={username:s,password:x,name:s},e.next=6,h.User.createUser(n);case 6:r=e.sent,k(!1),console.log("result",r),r.data.success?(N(Object(C.a)(Object(C.a)({},r.data.data),{},{isLogin:!0})),a.push("/")):(console.log("result",r),alert(r.data.error)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),k(!1),console.log("err",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{id:"page-login",className:"container",children:[Object(n.jsx)("form",{onSubmit:w,children:Object(n.jsx)(L.a,{className:t.paper,children:Object(n.jsxs)(G.a,{id:"page-login__wrapper",p:6,children:[Object(n.jsx)(G.a,{my:2,children:Object(n.jsx)(y.a,{variant:"h3",children:"Register"})}),Object(n.jsx)(V.a,{label:"\u5e33\u865f",fullWidth:!0,placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",margin:"normal",required:!0,value:s,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0}}),Object(n.jsx)(V.a,{label:"\u5bc6\u78bc",fullWidth:!0,placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",margin:"normal",required:!0,value:x,onChange:function(e){return m(e.target.value)},type:"password",InputLabelProps:{shrink:!0}}),Object(n.jsxs)(G.a,{mt:7,children:[Object(n.jsx)(J.a,{className:t.button,type:"submit",variant:"contained",color:"primary",size:"large",children:"\u65b0\u589e\u5e33\u865f"}),Object(n.jsx)(J.a,{className:t.button,color:"primary",onClick:function(){a.push("/login")},children:"\u8fd4\u56de\u767b\u5165"})]})]})})}),Object(n.jsx)(gt.a,{className:t.backdrop,open:v,children:Object(n.jsx)(vt.a,{color:"inherit"})})]})};var St=function(){return Object(n.jsx)(x,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/login",name:"login",component:Ct}),Object(n.jsx)(o.b,{path:"/register",name:"register",component:wt}),Object(n.jsx)(o.b,{path:"/",name:"full",component:ft})]})})},Et=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,291)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},It=a(35);s.a.render(Object(n.jsx)(It.a,{children:Object(n.jsx)(St,{})}),document.getElementById("root")),Et()}},[[210,1,2]]]);
//# sourceMappingURL=main.7fe44331.chunk.js.map